PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CjxtZXRhIGNoYXJzZXQ9IlVURi04Ij4KPHRpdGxlPlJFQUwgSGFja2luZyBCWSBHSE9TVFntoL3tsYA8L3RpdGxlPgoKPGxpbmsgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1TaGFyZStUZWNoK01vbm8mZGlzcGxheT1zd2FwIiByZWw9InN0eWxlc2hlZXQiPgoKPHN0eWxlPgoqIHsKICBtYXJnaW46IDA7CiAgcGFkZGluZzogMDsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIGZvbnQtZmFtaWx5OiAnU2hhcmUgVGVjaCBNb25vJywgbW9ub3NwYWNlOwp9Cgpib2R5IHsKICBiYWNrZ3JvdW5kOiBibGFjazsKICBjb2xvcjogcmVkOwogIG92ZXJmbG93OiBoaWRkZW47Cn0KCmNhbnZhcyB7CiAgcG9zaXRpb246IGZpeGVkOwogIHRvcDogMDsKICBsZWZ0OiAwOwp9CgouY29udGFpbmVyIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiA1MCU7CiAgbGVmdDogNTAlOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOwogIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC44NSk7CiAgcGFkZGluZzogMjBweDsKICBib3JkZXI6IDJweCBzb2xpZCByZWQ7CiAgd2lkdGg6IDM0MHB4OwogIHotaW5kZXg6IDEwOwp9CgpoMiB7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIG1hcmdpbi1ib3R0b206IDEwcHg7Cn0KCmlucHV0IHsKICB3aWR0aDogMTAwJTsKICBwYWRkaW5nOiAxMHB4OwogIGJhY2tncm91bmQ6IGJsYWNrOwogIGJvcmRlcjogMXB4IHNvbGlkIHJlZDsKICBjb2xvcjogcmVkOwogIG1hcmdpbi1ib3R0b206IDhweDsKfQoKYnV0dG9uIHsKICB3aWR0aDogMTAwJTsKICBwYWRkaW5nOiAxMHB4OwogIGJhY2tncm91bmQ6IHJlZDsKICBjb2xvcjogYmxhY2s7CiAgYm9yZGVyOiBub25lOwogIGN1cnNvcjogcG9pbnRlcjsKICBmb250LXdlaWdodDogYm9sZDsKICBtYXJnaW4tYm90dG9tOiA1cHg7Cn0KCi5wcm9ncmVzcyB7CiAgd2lkdGg6IDEwMCU7CiAgYmFja2dyb3VuZDogIzMzMDAwMDsKICBib3JkZXI6IDFweCBzb2xpZCByZWQ7CiAgbWFyZ2luLXRvcDogNXB4Owp9CgoucHJvZ3Jlc3MtYmFyIHsKICBoZWlnaHQ6IDE1cHg7CiAgd2lkdGg6IDAlOwogIGJhY2tncm91bmQ6IHJlZDsKfQoKI3Rlcm1pbmFsIHsKICBtYXJnaW4tdG9wOiAxMHB4OwogIGhlaWdodDogMTgwcHg7CiAgb3ZlcmZsb3cteTogYXV0bzsKICBmb250LXNpemU6IDEzcHg7CiAgd2hpdGUtc3BhY2U6IHByZS13cmFwOwp9Cgoud2hhdHNhcHAgewogIGJhY2tncm91bmQ6ICMyNUQzNjY7CiAgbWFyZ2luLXRvcDogOHB4Owp9Cjwvc3R5bGU+CjwvaGVhZD4KCjxib2R5PgoKPGNhbnZhcyBpZD0ibWF0cml4Ij48L2NhbnZhcz4KCjxkaXYgY2xhc3M9ImNvbnRhaW5lciI+CiAgPGgyPu2gve2zoSBNb2JpbGUgSGFja2luZyBieSBudW1iZXLimKA8L2gyPgogIDxpbnB1dCBpZD0ibnVtYmVyIiBwbGFjZWhvbGRlcj0i7aC97bOxIEVudGVyIE1vYmlsZSBOdW1iZXIiPgogIDxidXR0b24gb25jbGljaz0ic3RhcnRIYWNrKCkiPuKWtiBTVEFSVCBIQUNLSU5HPC9idXR0b24+CgogIDxkaXYgY2xhc3M9InByb2dyZXNzIj4KICAgIDxkaXYgY2xhc3M9InByb2dyZXNzLWJhciIgaWQ9ImJhciI+PC9kaXY+CiAgPC9kaXY+CgogIDxkaXYgaWQ9InRlcm1pbmFsIj48L2Rpdj4KCiAgPGJ1dHRvbiBjbGFzcz0id2hhdHNhcHAiIG9uY2xpY2s9ImpvaW5Hcm91cCgpIj7toL3tsqwgSm9pbiBXaGF0c0FwcCBHcm91cDwvYnV0dG9uPgo8L2Rpdj4KCjxzY3JpcHQ+Ci8vIE1BVFJJWCBCQUNLR1JPVU5ECmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtYXRyaXgiKTsKY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoIjJkIik7CmNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOwpjYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0OwoKY29uc3QgY2hhcnMgPSAiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaIjsKY29uc3QgZm9udFNpemUgPSAxNDsKY29uc3QgY29sdW1ucyA9IGNhbnZhcy53aWR0aCAvIGZvbnRTaXplOwpjb25zdCBkcm9wcyA9IEFycmF5KE1hdGguZmxvb3IoY29sdW1ucykpLmZpbGwoMSk7CgpzZXRJbnRlcnZhbCgoKSA9PiB7CiAgY3R4LmZpbGxTdHlsZSA9ICJyZ2JhKDAsMCwwLDAuMDUpIjsKICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKICBjdHguZmlsbFN0eWxlID0gInJlZCI7CiAgY3R4LmZvbnQgPSBmb250U2l6ZSArICJweCBTaGFyZSBUZWNoIE1vbm8iOwoKICBkcm9wcy5mb3JFYWNoKCh5LCBpKSA9PiB7CiAgICBjb25zdCB0ZXh0ID0gY2hhcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcnMubGVuZ3RoKV07CiAgICBjdHguZmlsbFRleHQodGV4dCwgaSAqIGZvbnRTaXplLCB5ICogZm9udFNpemUpOwogICAgaWYgKHkgKiBmb250U2l6ZSA+IGNhbnZhcy5oZWlnaHQgJiYgTWF0aC5yYW5kb20oKSA+IDAuOTgpIGRyb3BzW2ldID0gMDsKICAgIGRyb3BzW2ldKys7CiAgfSk7Cn0sIDUwKTsKCi8vIFRZUElORyBURVJNSU5BTCBFRkZFQ1QKZnVuY3Rpb24gdHlwZUxpbmUodGV4dCwgY2FsbGJhY2spIHsKICBjb25zdCB0ZXJtaW5hbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXJtaW5hbCIpOwogIGxldCBpID0gMDsKCiAgY29uc3QgdHlwZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICB0ZXJtaW5hbC5pbm5lckhUTUwgKz0gdGV4dC5jaGFyQXQoaSk7CiAgICB0ZXJtaW5hbC5zY3JvbGxUb3AgPSB0ZXJtaW5hbC5zY3JvbGxIZWlnaHQ7CiAgICBpKys7CiAgICBpZiAoaSA+PSB0ZXh0Lmxlbmd0aCkgewogICAgICB0ZXJtaW5hbC5pbm5lckhUTUwgKz0gIlxuIjsKICAgICAgY2xlYXJJbnRlcnZhbCh0eXBlcik7CiAgICAgIGlmIChjYWxsYmFjaykgc2V0VGltZW91dChjYWxsYmFjaywgNDAwKTsKICAgIH0KICB9LCBNYXRoLnJhbmRvbSgpICogNDAgKyAyMCk7Cn0KCi8vIE1BSU4gRkFLRSBIQUNLCmZ1bmN0aW9uIHN0YXJ0SGFjaygpIHsKICBjb25zdCBudW1iZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibnVtYmVyIikudmFsdWU7CiAgY29uc3QgdGVybWluYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVybWluYWwiKTsKICBjb25zdCBiYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYmFyIik7CgogIHRlcm1pbmFsLmlubmVySFRNTCA9ICIiOwogIGJhci5zdHlsZS53aWR0aCA9ICIwJSI7CgogIGlmICghbnVtYmVyLnRyaW0oKSkgewogICAgdGVybWluYWwuaW5uZXJIVE1MID0gIuKdjCBFbnRlciBhIG1vYmlsZSBudW1iZXIgZmlyc3RcbiI7CiAgICByZXR1cm47CiAgfQoKICBjb25zdCBzdGVwcyA9IFsKICAgICLtoL3ts7EgVGFyZ2V0IExvY2tlZCDihpIgIiArIG51bWJlciwKICAgICLtoL3ts6EgQ29ubmVjdGluZyB0byBzYXRlbGxpdGUgdXBsaW5rLi4uIiwKICAgICLtoL3tu7DvuI8gRXN0YWJsaXNoaW5nIGVuY3J5cHRlZCBjaGFubmVsLi4uIiwKICAgICLtoL3ttI0gU2Nhbm5pbmcgZGV2aWNlIHZ1bG5lcmFiaWxpdGllcy4uLiIsCiAgICAi7aC97bSQIEF0dGVtcHRpbmcgZmlyZXdhbGwgYnlwYXNzLi4uIiwKICAgICLtoL3ts7YgSGlqYWNraW5nIHNpZ25hbCBoYW5kc2hha2UuLi4iLAogICAgIu2gve2zgiBBY2Nlc3NpbmcgaW50ZXJuYWwgc3RvcmFnZS4uLiIsCiAgICAi7aC97bO4IFJlYWRpbmcgZ2FsbGVyeSBmaWxlcy4uLiIsCiAgICAi7aC97bKsIEV4dHJhY3RpbmcgV2hhdHNBcHAgZGF0YWJhc2UuLi4iLAogICAgIu2gve2zjSBUcmFja2luZyBHUFMgbG9jYXRpb24uLi4iLAogICAgIu2gve26qCBTRUNVUklUWSBBTEVSVCBUUklHR0VSRUQhIiwKICAgICJUSElTIE1PQklMRSBhbmQgaGlzIHBob25lIGhhcyBiZWVuIGhhY2tlZOKYoCIsCiAgXTsKCiAgbGV0IGluZGV4ID0gMDsKCiAgZnVuY3Rpb24gbmV4dFN0ZXAoKSB7CiAgICBpZiAoaW5kZXggPj0gc3RlcHMubGVuZ3RoKSB7CiAgICAgIGJhci5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGJhci5zdHlsZS53aWR0aCA9ICgoaW5kZXggKyAxKSAvIHN0ZXBzLmxlbmd0aCkgKiAxMDAgKyAiJSI7CgogICAgdHlwZUxpbmUoc3RlcHNbaW5kZXhdLCAoKSA9PiB7CiAgICAgIGluZGV4Kys7CiAgICAgIG5leHRTdGVwKCk7CiAgICB9KTsKICB9CgogIG5leHRTdGVwKCk7Cn0KCi8vIFdIQVRTQVBQIEdST1VQCmZ1bmN0aW9uIGpvaW5Hcm91cCgpIHsKICB3aW5kb3cub3BlbigiaHR0cHM6Ly9jaGF0LndoYXRzYXBwLmNvbS9IVk05U3B2bTdIVkdMRVJqOHlvOWtTIiwgIl9ibGFuayIpOwp9Cjwvc2NyaXB0PgoKPC9ib2R5Pgo8L2h0bWw+